<br>
<div class="row">
  <div class="col-md-6">
    <div class="container">
      <div class="form-group">
        <label>Patient Name <span class="required">*</span></label>
        <input type="text" class="form-control" placeholder="Enter Name">
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label>Phone Number <span class="required">*</span></label>
            <input type="text" class="form-control" placeholder="Enter Phone">
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Gender</label>
            <select class="form-control">
              <option>Male</option>
              <option>Female</option>
              <option>Other</option>
            </select>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label>Age</label>
            <input type="number" class="form-control" placeholder="Enter age">
          </div>
        </div>
      </div>

      <!-- Referral Doctor -->
      <div class="form-group">
        <label for="doctorName">Referral Doctor <span class="required">*</span></label>
        <input type="text" class="form-control" id="doctorName" [formControl]="doctorNameControl"
          (input)="filterDoctors()" placeholder="Type doctor name" />
        <ul *ngIf="filteredDoctors.length > 0" class="autocomplete-list">
          <li *ngFor="let doctor of filteredDoctors" (click)="selectDoctor(doctor)" class="autocomplete-item">
            {{ doctor.name }}
          </li>
        </ul>
      </div>

      <!-- Test Group -->
      <div class="form-group">
        <label>Test Group</label>
        <select class="form-control">
          <option>USG</option>
          <option>Blood Test</option>
        </select>
      </div>

      <!-- Test Name Selection -->
      <div class="form-group">
        <label for="testName">Test Name <span class="required">*</span></label>
        <input type="text" class="form-control" id="testName" [formControl]="testNameControl"
          (input)="filterTests()" placeholder="Type test name" />
        <ul *ngIf="filteredTests.length > 0" class="autocomplete-list">
          <li *ngFor="let product of filteredTests" (click)="selectTest(product)" class="autocomplete-item">
            {{ product.name }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <!-- Selected Tests Table -->
    <div *ngIf="selectedTests.length > 0" class="mt-4">
      <h4>Selected Tests</h4>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Test Name</th>
            <th>Code</th>
            <th>Price</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let test of selectedTests">
            <td>{{ test.name }}</td>
            <td>{{ test.code }}</td>
            <td>
              <input type="number" class="form-control price" [(ngModel)]="test.price"  readonly/>
            </td>
            <td>
              <button class="btn btn-danger btn-sm" (click)="removeTest(test)">
                Remove
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Payment Summary -->
    <div class="form-group">
      <label>Total Amount</label>
      <input type="number" class="form-control totalAmount" [(ngModel)]="totalAmount" readonly>
    </div>

    <div class="form-group">
      <label>Discount (%)</label>
      <input type="number" class="form-control discount" [(ngModel)]="discountPercentage" (input)="calculateDiscount()"
        placeholder="Enter Discount %" min="0">
    </div>

    <div class="form-group">
      <label>Discount (Cash)</label>
      <input type="number" class="form-control discountToRound" [(ngModel)]="discountCash" (input)="calculateDiscount()"
        placeholder="Enter Discount Amount" min="0">
    </div>

    <div class="form-group">
      <label>Payable Amount</label>
      <input type="number" class="form-control payableAmount" [(ngModel)]="payableAmount" readonly>
    </div>

    <div class="form-group">
      <label>Paid Amount</label>
      <input type="number" class="form-control paidAmount" [(ngModel)]="paidAmount" (input)="calculateDue()"
        placeholder="Enter Paid Amount" min="0">
    </div>

    <div class="form-group">
      <label>Due Amount</label>
      <input type="number" class="form-control dueAmount" [(ngModel)]="dueAmount" readonly>
    </div>

    <!-- Print Button -->
    <button class="btn btn-primary" routerLink="">Print</button>
  </div>
</div>
